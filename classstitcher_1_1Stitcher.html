<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TUTGAK-Stitcher: stitcher.Stitcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TUTGAK-Stitcher
   </div>
   <div id="projectbrief">An image stitcher library written in python</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>stitcher</b></li><li class="navelem"><a class="el" href="classstitcher_1_1Stitcher.html">Stitcher</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classstitcher_1_1Stitcher-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">stitcher.Stitcher Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classstitcher_1_1Stitcher.html" title="Stitcher is responsible with stitching provided images.">Stitcher</a> is responsible with stitching provided images.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6bc4cf0093d9c422250436addf65d048" id="r_a6bc4cf0093d9c422250436addf65d048"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6bc4cf0093d9c422250436addf65d048">__init__</a> (self, *, int target_image_mean=110, bool legacy_paste=False, float new_image_percentage=0.75, float min_homography_determinant=0.1, float filter_threshold=0.65, int max_iterations_before_fail=5, bool stitch_with_whole_image_on_fail=True, int initial_random_point_count=16, float ransac_threshold=0.5, initial_ransac_iterations=1250, ransac_steps=500)</td></tr>
<tr class="memdesc:a6bc4cf0093d9c422250436addf65d048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classstitcher_1_1Stitcher.html" title="Stitcher is responsible with stitching provided images.">Stitcher</a> object.  <br /></td></tr>
<tr class="separator:a6bc4cf0093d9c422250436addf65d048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a892593e72cf78d9fd878f5bc1f4437" id="r_a8a892593e72cf78d9fd878f5bc1f4437"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a892593e72cf78d9fd878f5bc1f4437">stitch</a> (self, np.ndarray image, bool whole_image=False)</td></tr>
<tr class="memdesc:a8a892593e72cf78d9fd878f5bc1f4437"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stitches the given image to the full_image.  <br /></td></tr>
<tr class="separator:a8a892593e72cf78d9fd878f5bc1f4437"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae0459236ea4d3cefb03fcbd1f9a87877" id="r_ae0459236ea4d3cefb03fcbd1f9a87877"><td class="memItemLeft" align="right" valign="top"><a id="ae0459236ea4d3cefb03fcbd1f9a87877" name="ae0459236ea4d3cefb03fcbd1f9a87877"></a>
<a class="el" href="classimage__history_1_1ImageHistory.html">ImageHistory</a>&#160;</td><td class="memItemRight" valign="bottom"><b>history</b></td></tr>
<tr class="separator:ae0459236ea4d3cefb03fcbd1f9a87877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d3114d0bb466d0f38b4f4073cc04bc" id="r_ab1d3114d0bb466d0f38b4f4073cc04bc"><td class="memItemLeft" align="right" valign="top"><a id="ab1d3114d0bb466d0f38b4f4073cc04bc" name="ab1d3114d0bb466d0f38b4f4073cc04bc"></a>
Optional[np.ndarray]&#160;</td><td class="memItemRight" valign="bottom"><b>full_image</b></td></tr>
<tr class="separator:ab1d3114d0bb466d0f38b4f4073cc04bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738c02b3d7c728f46b8c6d65c515e151" id="r_a738c02b3d7c728f46b8c6d65c515e151"><td class="memItemLeft" align="right" valign="top"><a id="a738c02b3d7c728f46b8c6d65c515e151" name="a738c02b3d7c728f46b8c6d65c515e151"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>target_image_mean</b></td></tr>
<tr class="separator:a738c02b3d7c728f46b8c6d65c515e151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609ee8cefac7e9f97fa9884aa5f7e1eb" id="r_a609ee8cefac7e9f97fa9884aa5f7e1eb"><td class="memItemLeft" align="right" valign="top"><a id="a609ee8cefac7e9f97fa9884aa5f7e1eb" name="a609ee8cefac7e9f97fa9884aa5f7e1eb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>legacy_paste</b></td></tr>
<tr class="separator:a609ee8cefac7e9f97fa9884aa5f7e1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f425c0fc3decd073ce9f603c7a54bc" id="r_a03f425c0fc3decd073ce9f603c7a54bc"><td class="memItemLeft" align="right" valign="top"><a id="a03f425c0fc3decd073ce9f603c7a54bc" name="a03f425c0fc3decd073ce9f603c7a54bc"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>new_image_percentage</b></td></tr>
<tr class="separator:a03f425c0fc3decd073ce9f603c7a54bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd38598c378181974b046d4b6abee81" id="r_a0fd38598c378181974b046d4b6abee81"><td class="memItemLeft" align="right" valign="top"><a id="a0fd38598c378181974b046d4b6abee81" name="a0fd38598c378181974b046d4b6abee81"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>min_homography_determinant</b></td></tr>
<tr class="separator:a0fd38598c378181974b046d4b6abee81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd40d46ab910acf14239d73ede4720b" id="r_a8dd40d46ab910acf14239d73ede4720b"><td class="memItemLeft" align="right" valign="top"><a id="a8dd40d46ab910acf14239d73ede4720b" name="a8dd40d46ab910acf14239d73ede4720b"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>filter_threshold</b></td></tr>
<tr class="separator:a8dd40d46ab910acf14239d73ede4720b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce7415ca2ab3f8f3664ea3827f13fe0" id="r_a4ce7415ca2ab3f8f3664ea3827f13fe0"><td class="memItemLeft" align="right" valign="top"><a id="a4ce7415ca2ab3f8f3664ea3827f13fe0" name="a4ce7415ca2ab3f8f3664ea3827f13fe0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>stitch_with_whole_image_on_fail</b></td></tr>
<tr class="separator:a4ce7415ca2ab3f8f3664ea3827f13fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35cdd86730092247cf32d2e3505a663" id="r_aa35cdd86730092247cf32d2e3505a663"><td class="memItemLeft" align="right" valign="top"><a id="aa35cdd86730092247cf32d2e3505a663" name="aa35cdd86730092247cf32d2e3505a663"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>max_iterations_before_fail</b></td></tr>
<tr class="separator:aa35cdd86730092247cf32d2e3505a663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fd13bd26d27559f333e9ae436b7809" id="r_a26fd13bd26d27559f333e9ae436b7809"><td class="memItemLeft" align="right" valign="top"><a id="a26fd13bd26d27559f333e9ae436b7809" name="a26fd13bd26d27559f333e9ae436b7809"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>initial_random_point_count</b></td></tr>
<tr class="separator:a26fd13bd26d27559f333e9ae436b7809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9ff23a959536321ed4eab15d809189" id="r_afc9ff23a959536321ed4eab15d809189"><td class="memItemLeft" align="right" valign="top"><a id="afc9ff23a959536321ed4eab15d809189" name="afc9ff23a959536321ed4eab15d809189"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>ransac_threshold</b></td></tr>
<tr class="separator:afc9ff23a959536321ed4eab15d809189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e916cf6ddf6b3f201828eee89019bd" id="r_a58e916cf6ddf6b3f201828eee89019bd"><td class="memItemLeft" align="right" valign="top"><a id="a58e916cf6ddf6b3f201828eee89019bd" name="a58e916cf6ddf6b3f201828eee89019bd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>initial_ransac_iterations</b></td></tr>
<tr class="separator:a58e916cf6ddf6b3f201828eee89019bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad516b4ffd7302c1c0cc9274f2122d188" id="r_ad516b4ffd7302c1c0cc9274f2122d188"><td class="memItemLeft" align="right" valign="top"><a id="ad516b4ffd7302c1c0cc9274f2122d188" name="ad516b4ffd7302c1c0cc9274f2122d188"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ransac_steps</b></td></tr>
<tr class="separator:ad516b4ffd7302c1c0cc9274f2122d188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac275fa437b74caf4d9cab849abfb1d" id="r_adac275fa437b74caf4d9cab849abfb1d"><td class="memItemLeft" align="right" valign="top"><a id="adac275fa437b74caf4d9cab849abfb1d" name="adac275fa437b74caf4d9cab849abfb1d"></a>
cv2.FlannBasedMatcher&#160;</td><td class="memItemRight" valign="bottom"><b>flann_matcher</b></td></tr>
<tr class="separator:adac275fa437b74caf4d9cab849abfb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4781b1ff532047874448ee2346b7be9" id="r_ab4781b1ff532047874448ee2346b7be9"><td class="memItemLeft" align="right" valign="top"><a id="ab4781b1ff532047874448ee2346b7be9" name="ab4781b1ff532047874448ee2346b7be9"></a>
cv2.BFMatcher&#160;</td><td class="memItemRight" valign="bottom"><b>bf_matcher</b></td></tr>
<tr class="separator:ab4781b1ff532047874448ee2346b7be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e01cd5e3882af3b03750792895f9059" id="r_a1e01cd5e3882af3b03750792895f9059"><td class="memItemLeft" align="right" valign="top"><a id="a1e01cd5e3882af3b03750792895f9059" name="a1e01cd5e3882af3b03750792895f9059"></a>
cv2.SIFT&#160;</td><td class="memItemRight" valign="bottom"><b>sift_extractor</b></td></tr>
<tr class="separator:a1e01cd5e3882af3b03750792895f9059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87512b063b38ea4183130b74257f6b4" id="r_ae87512b063b38ea4183130b74257f6b4"><td class="memItemLeft" align="right" valign="top"><a id="ae87512b063b38ea4183130b74257f6b4" name="ae87512b063b38ea4183130b74257f6b4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>history</b></td></tr>
<tr class="separator:ae87512b063b38ea4183130b74257f6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c0fdb9324fb53854deb0b46816ee03" id="r_a59c0fdb9324fb53854deb0b46816ee03"><td class="memItemLeft" align="right" valign="top"><a id="a59c0fdb9324fb53854deb0b46816ee03" name="a59c0fdb9324fb53854deb0b46816ee03"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>full_image</b></td></tr>
<tr class="separator:a59c0fdb9324fb53854deb0b46816ee03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b420eb0dd661a7a19b178e66d6f99d" id="r_a47b420eb0dd661a7a19b178e66d6f99d"><td class="memItemLeft" align="right" valign="top"><a id="a47b420eb0dd661a7a19b178e66d6f99d" name="a47b420eb0dd661a7a19b178e66d6f99d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ransac_threshold</b></td></tr>
<tr class="separator:a47b420eb0dd661a7a19b178e66d6f99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:afbd0414f16c101f40a3f39d8ca5cf7e1" id="r_afbd0414f16c101f40a3f39d8ca5cf7e1"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbd0414f16c101f40a3f39d8ca5cf7e1">__preprocess_image</a> (self, np.ndarray image)</td></tr>
<tr class="memdesc:afbd0414f16c101f40a3f39d8ca5cf7e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preprocesses the given image.  <br /></td></tr>
<tr class="separator:afbd0414f16c101f40a3f39d8ca5cf7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf46fcb0ba3921cf4abef2f63606fab" id="r_a8cf46fcb0ba3921cf4abef2f63606fab"><td class="memItemLeft" align="right" valign="top">Tuple[int, int]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cf46fcb0ba3921cf4abef2f63606fab">__paste_image</a> (self, np.ndarray image, int x_offset=0, int y_offset=0, bool whole_image=False)</td></tr>
<tr class="memdesc:a8cf46fcb0ba3921cf4abef2f63606fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pastes the image to the full_image.  <br /></td></tr>
<tr class="separator:a8cf46fcb0ba3921cf4abef2f63606fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27f0b74c3cb91ac81586e185140f468" id="r_aa27f0b74c3cb91ac81586e185140f468"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkdtuple_1_1KDTuple.html">KDTuple</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa27f0b74c3cb91ac81586e185140f468">__detect_and_compute</a> (self, np.ndarray image)</td></tr>
<tr class="memdesc:aa27f0b74c3cb91ac81586e185140f468"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect and compute keypoints and descriptors of given image using SIFT.  <br /></td></tr>
<tr class="separator:aa27f0b74c3cb91ac81586e185140f468"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classstitcher_1_1Stitcher.html" title="Stitcher is responsible with stitching provided images.">Stitcher</a> is responsible with stitching provided images. </p>
<p>Stitching process goes like this:</p><ul>
<li>If the provided image is the first image, set self.image to that image and stop</li>
<li>Otherwise, take the current image with last image and calculate the homography matrix between the images and applies it to the current image. Also calculates the where that image should be positioned in the final image.</li>
<li>To paste the image, stitcher first creates a new canvas and pastes the old image and the warped image to the correct position. There are two blending modes: legacy mode and the new mode. Legacy mode is just alpha blending. The new mode however, mixes the overlapping parts of two images by a predefined constant. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6bc4cf0093d9c422250436addf65d048" name="a6bc4cf0093d9c422250436addf65d048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc4cf0093d9c422250436addf65d048">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None stitcher.Stitcher.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>target_image_mean</em></span><span class="paramdefsep"> = </span><span class="paramdefval">110</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>legacy_paste</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>new_image_percentage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.75</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>min_homography_determinant</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.1</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>filter_threshold</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.65</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>max_iterations_before_fail</em></span><span class="paramdefsep"> = </span><span class="paramdefval">5</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>stitch_with_whole_image_on_fail</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>initial_random_point_count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">16</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>ransac_threshold</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.5</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>initial_ransac_iterations</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1250</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ransac_steps</em></span><span class="paramdefsep"> = </span><span class="paramdefval">500</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classstitcher_1_1Stitcher.html" title="Stitcher is responsible with stitching provided images.">Stitcher</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_image_mean</td><td>The target brightness value of input images </td></tr>
    <tr><td class="paramname">legacy_paste</td><td>Turn on legacy paste mode. The difference between legacy paste and new paste modes are explained in the class description. </td></tr>
    <tr><td class="paramname">new_image_percentage</td><td>Used when mixing two images in the new paste mode. Does a linear interpolation between the pixels of the old image and the new image. Essentially c*new + (1-c)*old where c is this constant. </td></tr>
    <tr><td class="paramname">min_homography_determinant</td><td>Minimum allowed value for the determinant of the homography matrix. </td></tr>
    <tr><td class="paramname">filter_threshold</td><td>A threshold value used to filter in the <a class="el" href="classutil_1_1Util.html#a32c2c30f6cc150f1cb4d2985190d0463">Util.match</a> function. </td></tr>
    <tr><td class="paramname">max_iterations_before_fail</td><td>If a step fails, instead of erroring out, the stitcher tries stitching again with different values until a match is found. This is the number of tries before failure. </td></tr>
    <tr><td class="paramname">stitch_with_whole_image_on_fail</td><td>If stitcher fails to stitch and image with its predecessor image and this option is enabled, it tries to stitch it with the whole image and starts the whole process again. </td></tr>
    <tr><td class="paramname">initial_random_point_count</td><td>The ransac works by picking some random points and checking if they are "good". On each fail the stitcher decreases this value by<ol type="1">
<li>However, the minimum point count is 4. </li>
</ol>
</td></tr>
    <tr><td class="paramname">ransac_threshold</td><td>A threshold value to determine if a point is "good" in the ransac algorithm </td></tr>
    <tr><td class="paramname">initial_ransac_iterations</td><td>The initial iteration count for ransac </td></tr>
    <tr><td class="paramname">ransac_steps</td><td>After each failure, the iteration count increases by this value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa27f0b74c3cb91ac81586e185140f468" name="aa27f0b74c3cb91ac81586e185140f468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27f0b74c3cb91ac81586e185140f468">&#9670;&#160;</a></span>__detect_and_compute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classkdtuple_1_1KDTuple.html">KDTuple</a> stitcher.Stitcher.__detect_and_compute </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray</td>          <td class="paramname"><span class="paramname"><em>image</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detect and compute keypoints and descriptors of given image using SIFT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Image to find keypoints and descriptors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Keypoints and descriptors as a KDTuple object </dd></dl>

</div>
</div>
<a id="a8cf46fcb0ba3921cf4abef2f63606fab" name="a8cf46fcb0ba3921cf4abef2f63606fab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf46fcb0ba3921cf4abef2f63606fab">&#9670;&#160;</a></span>__paste_image()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[int, int] stitcher.Stitcher.__paste_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>x_offset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>y_offset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>whole_image</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pastes the image to the full_image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Image to be pasted </td></tr>
    <tr><td class="paramname">x_offset</td><td>Horizontal offset from the last pasted image </td></tr>
    <tr><td class="paramname">y_offset</td><td>Vertical offset from the last pasted image </td></tr>
    <tr><td class="paramname">whole_image</td><td>If set to true, the offset applies to the whole image, not to the last pasted image</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total offset of the image as a tuple of ints </dd></dl>

</div>
</div>
<a id="afbd0414f16c101f40a3f39d8ca5cf7e1" name="afbd0414f16c101f40a3f39d8ca5cf7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd0414f16c101f40a3f39d8ca5cf7e1">&#9670;&#160;</a></span>__preprocess_image()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray stitcher.Stitcher.__preprocess_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray</td>          <td class="paramname"><span class="paramname"><em>image</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preprocesses the given image. </p>
<p>Converts it from BGR to BGRA and applies a mean shift to shift the mean of the image to the target_brightness parameter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Input image</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Preprocessed image </dd></dl>

</div>
</div>
<a id="a8a892593e72cf78d9fd878f5bc1f4437" name="a8a892593e72cf78d9fd878f5bc1f4437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a892593e72cf78d9fd878f5bc1f4437">&#9670;&#160;</a></span>stitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool stitcher.Stitcher.stitch </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>whole_image</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stitches the given image to the full_image. </p>
<pre class="fragment">   The process is explained in the class description.
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Image to stitch </td></tr>
    <tr><td class="paramname">whole_image</td><td>If set to true, it uses full_image instead of the last stitched image for stitching</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if stitching was successful, False otherwise </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<b>stitcher.py</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
